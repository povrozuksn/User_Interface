#include "TXLib.h"

struct Button
{
    int x;
    int y;
    int w;
    int h;
    const char* text;
    bool visible;

    void draw()
    {
        if(visible)
        {
            txSetColor (TX_WHITE, 3);
            txSetFillColor (TX_RED);
            Win32::RoundRect (txDC(), x, y, x+w, y+h, 30, 30);
            txSelectFont("Times New Roman", 30);
            txDrawText(x, y, x+w, y+h, text);
        }
    }

    bool click()
    {
        return  (txMouseX()>x && txMouseX()<x+w &&
                 txMouseY()>y && txMouseY()<y+h &&
                 txMouseButtons() == 1 && visible);
    }
};

int main()
{
txCreateWindow (800, 600);
txTextCursor (false);

string PAGE = "menu";

Button btn[5];
btn[0] = {100, 100, 200, 40, "Старт", true};
btn[1] = {100, 150, 200, 40, "Настройки", true};
btn[2] = {100, 200, 200, 40, "Правила", true};
btn[3] = {100, 250, 200, 40, "О программе", true};
btn[4] = {100, 300, 200, 40, "Выход", true};

    while(!btn[4].click())
    {
        txClear();
        txBegin();
//Меню
        if(PAGE=="menu")
        {
            for(int i=0; i<=4; i++)
            {
                btn[i].draw();
            }

            if(btn[0].click())
            {
                while(btn[0].click()) txSleep(50);
                PAGE="game";
                for(int i=0; i<=4; i++)
                {
                    btn[i].visible = false;
                }
            }


            txSetFillColor (TX_BLACK);
        }

//Настройки

        {
            txSetColor(TX_BLACK);
            txTextOut(0, 0, "Страница Настройки");


            txSetFillColor (TX_BLUE);
        }

//Правила

        {
            txSetColor(TX_BLACK);
            txTextOut(0, 0, "Страница Правила");


            txSetFillColor (TX_YELLOW);
        }

//О программе

        {
            txSetColor(TX_BLACK);
            txTextOut(0, 0, "Страница О программе");
            
            
            txSetFillColor (TX_GREEN);
        }

//Игра
        if(PAGE=="game")
        {
            txSetColor(TX_BLACK);
            txTextOut(0, 0, "Страница Игры");


            txSetFillColor (TX_WHITE);
        }

        txEnd();
        txSleep(10);
    }

txDisableAutoPause();
return 0;
}

